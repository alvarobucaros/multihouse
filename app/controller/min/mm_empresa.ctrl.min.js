var app=angular.module("app",[]);app.controller("mainController",["$scope","$http",function(e,r){e.form_title="Parámetros Empresa",e.form_btnNuevo="Nuevo registro",e.form_btnEdita="Edita",e.form_btnElimina="Elimina",e.form_btnAnula="Cerrar",e.form_btnActualiza="Actualizar",e.form_titModal="Actualiza lista de registros",e.form_Phbusca="Consulta",e.form_Activo80="E Mail",e.form_Activo81="Celular",e.form_Activo82="Usuario",e.form_Activo90="Español",e.form_Activo91="Inglés",e.form_Activo92="Otro",e.form_Activo180="Media Hora",e.form_Activo181="Una Hora",e.form_cresidencialS="Si",e.form_cresidencialN="No",e.form_empresa_id="ID",e.form_empresa_nombre="NOMBRE",e.form_empresa_nit="NIT",e.form_empresa_web="WEB",e.form_empresa_direccion="DIRECCION",e.form_empresa_telefonos="TELEFONOS",e.form_empresa_ciudad="CIUDAD",e.form_empresa_logo="LOGO",e.form_empresa_autentica="AUTENTICA",e.form_empresa_lenguaje="LENGUAJE",e.form_empresa_versionPrd="VERSION APP",e.form_empresa_versionBd="VERSION BD",e.form_empresa_clave="CLAVE",e.form_empresa_email="EMAIL",e.form_empresa_registrsoXpagina="REGISTRSO PAGINA",e.form_empresa_diasTrabaja="DIAS TRABAJA",e.form_empresa_horarioInicio="HORARIO INICIO",e.form_empresa_horarioTermina="HORARIO TERMINA",e.form_empresa_intervaloCalendario="INTERVALO CALENDARIO",e.form_empresa_FormatoActa="FORMATO ACTA",e.form_empresa_cresidencial="ES CONJUNTO RESIDENCIAL",e.form_Phempresa_id="Digite id",e.form_Phempresa_nombre="Digite nombre",e.form_Phempresa_nit="Digite nit",e.form_Phempresa_web="Digite web",e.form_Phempresa_direccion="Digite direccion",e.form_Phempresa_telefonos="Digite telefonos",e.form_Phempresa_ciudad="Digite ciudad",e.form_Phempresa_logo="Digite logo",e.form_Phempresa_autentica="Digite autentica",e.form_Phempresa_lenguaje="Digite lenguaje",e.form_Phempresa_versionPrd="Digite version app",e.form_Phempresa_versionBd="Digite version bd",e.form_Phempresa_clave="Digite clave",e.form_Phempresa_email="Digite email",e.form_Phempresa_registrsoXpagina="Digite registrso pagina",e.form_Phempresa_diasTrabaja="Digite dias trabaja",e.form_Phempresa_horarioInicio="Digite horario inicio",e.form_Phempresa_horarioTermina="Digite horario termina",e.form_Phempresa_intervaloCalendario="Digite intervalo calendario",e.form_Phempresa_FormatoActa="Digite formato acta";var a={empresa_id:0,empresa_nombre:"",empresa_nit:"",empresa_web:"",empresa_direccion:"",empresa_telefonos:"",empresa_ciudad:"",empresa_logo:"",empresa_autentica:"",empresa_lenguaje:"",empresa_versionPrd:"",empresa_versionBd:"",empresa_clave:"",empresa_email:"",empresa_registrsoXpagina:0,empresa_diasTrabaja:"",empresa_horarioInicio:"",empresa_horarioTermina:"",empresa_intervaloCalendario:"",empresa_FormatoActa:"",empresa_cresidencial:"N"};function o(){empresa=$("#e").val(),r.post("modulos/mod_mm_empresa.php?op=r",{op:"r",empresa:empresa}).success(function(r){e.details=r,e.registro.empresa_id=r[0].empresa_id,e.registro.empresa_nombre=r[0].empresa_nombre,e.registro.empresa_nit=r[0].empresa_nit,e.registro.empresa_web=r[0].empresa_web,e.registro.empresa_direccion=r[0].empresa_direccion,e.registro.empresa_telefonos=r[0].empresa_telefonos,e.registro.empresa_ciudad=r[0].empresa_ciudad,e.registro.empresa_logo=r[0].empresa_logo,e.registro.empresa_autentica=r[0].empresa_autentica,e.registro.empresa_lenguaje=r[0].empresa_lenguaje,e.registro.empresa_versionPrd=r[0].empresa_versionPrd,e.registro.empresa_versionBd=r[0].empresa_versionBd,e.registro.empresa_clave=r[0].empresa_clave,e.registro.empresa_email=r[0].empresa_email,e.registro.empresa_registrsoXpagina=r[0].empresa_registrsoXpagina,e.registro.empresa_diasTrabaja=r[0].empresa_diasTrabaja,e.registro.empresa_horarioInicio=r[0].empresa_horarioInicio,e.registro.empresa_horarioTermina=r[0].empresa_horarioTermina,e.registro.empresa_intervaloCalendario=r[0].empresa_intervaloCalendario,e.registro.empresa_FormatoActa=r[0].empresa_FormatoActa,e.registro.empresa_cresidencial=r[0].empresa_cresidencial})}o(),$("#idForm").slideToggle(),e.show_form=!0,e.formToggle=function(){$("#idForm").slideToggle(),e.empresa_id=0,$("#idForm").css("display","none")},e.show_form=!0,e.formToggle=function(){$("#idForm").slideToggle(),e.formato.$setPristine(),e.registro=angular.copy(a)},e.registro=function(e){alert("inserta")},e.registro=function(a){alert("actualiza"),r.post("modulos/mod_mm_empresa.php?op=a",{op:"a",empresa_id:empresa_id,empresa_nombre:empresa_nombre,empresa_nit:empresa_nit,empresa_web:empresa_web,empresa_direccion:empresa_direccion,empresa_telefonos:empresa_telefonos,empresa_ciudad:empresa_ciudad,empresa_logo:empresa_logo,empresa_autentica:empresa_autentica,empresa_lenguaje:empresa_lenguaje,empresa_versionPrd:empresa_versionPrd,empresa_versionBd:empresa_versionBd,empresa_clave:empresa_clave,empresa_email:empresa_email,empresa_registrsoXpagina:empresa_registrsoXpagina,empresa_diasTrabaja:empresa_diasTrabaja,empresa_horarioInicio:empresa_horarioInicio,empresa_horarioTermina:empresa_horarioTermina,empresa_intervaloCalendario:empresa_intervaloCalendario,empresa_FormatoActa:empresa_FormatoActa,empresa_cresidencial:empresa_cresidencial}).success(function(r){e.show_form=!0,!0===r&&o()})},e.registro={},e.editInfo=function(r){e.registro=r,$("#idForm").slideToggle()},e.deleteInfo=function(e){confirm("Desea borrar el registro con nombre : "+e.empresa_nombre+" ?")&&r.post("modulos/mod_mm_empresa.php?op=b",{op:"b",empresa_id:e.empresa_id}).success(function(e){"Ok"===e&&(o(),alert("Registro Borrado "))})},e.updateInfo=function(e){er="",""===$("#empresa_id").val()&&(er+="falta id\n"),""===$("#empresa_nombre").val()&&(er+="falta nombre\n"),""===$("#empresa_nit").val()&&(er+="falta nit\n"),""===$("#empresa_web").val()&&(er+="falta web\n"),""===$("#empresa_direccion").val()&&(er+="falta direccion\n"),""===$("#empresa_telefonos").val()&&(er+="falta telefonos\n"),""===$("#empresa_ciudad").val()&&(er+="falta ciudad\n"),""===$("#empresa_logo").val()&&(er+="falta logo\n"),""===$("#empresa_autentica").val()&&(er+="falta autentica\n"),""===$("#empresa_lenguaje").val()&&(er+="falta lenguaje\n"),""===$("#empresa_versionPrd").val()&&(er+="falta version app\n"),""===$("#empresa_versionBd").val()&&(er+="falta version bd\n"),""===$("#empresa_clave").val()&&(er+="falta clave\n"),""===$("#empresa_email").val()&&(er+="falta email\n"),""===$("#empresa_registrsoXpagina").val()&&(er+="falta registrso pagina\n"),""===$("#empresa_diasTrabaja").val()&&(er+="falta dias trabaja\n"),""===$("#empresa_horarioInicio").val()&&(er+="falta horario inicio\n"),""===$("#empresa_horarioTermina").val()&&(er+="falta horario termina\n"),""===$("#empresa_intervaloCalendario").val()&&(er+="falta intervalo calendario\n"),""===$("#empresa_FormatoActa").val()&&(er+="falta formato acta\n"),""==er?r.post("modulos/mod_mm_empresa.php?op=a",{op:"a",empresa_id:e.empresa_id,empresa_nombre:e.empresa_nombre,empresa_nit:e.empresa_nit,empresa_web:e.empresa_web,empresa_direccion:e.empresa_direccion,empresa_telefonos:e.empresa_telefonos,empresa_ciudad:e.empresa_ciudad,empresa_logo:e.empresa_logo,empresa_autentica:e.empresa_autentica,empresa_lenguaje:e.empresa_lenguaje,empresa_versionPrd:e.empresa_versionPrd,empresa_versionBd:e.empresa_versionBd,empresa_clave:e.empresa_clave,empresa_email:e.empresa_email,empresa_registrsoXpagina:e.empresa_registrsoXpagina,empresa_diasTrabaja:e.empresa_diasTrabaja,empresa_horarioInicio:e.empresa_horarioInicio,empresa_horarioTermina:e.empresa_horarioTermina,empresa_intervaloCalendario:e.empresa_intervaloCalendario,empresa_FormatoActa:e.empresa_FormatoActa,empresa_cresidencial:e.empresa_cresidencial}).success(function(e){"Ok"===e&&(o(),alert("Registro Actualizado "),$("#idForm").slideToggle())}):alert(er)},e.clearInfo=function(e){console.log("empty"),$("#idForm").slideToggle()}}]);